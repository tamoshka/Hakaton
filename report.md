# Отчёт о выполнении задачи "Дрон-инспектор"
## Постановка задачи
Компания создаёт дрон для мониторинга. Дрон летает на определённое расстояние, но всегда в местах, где также может присутствовать гражданская авиация. Поэтому в рамках Хакатона предлагается:
- Доработать предложенную архитектуру бортового обеспечения дрона с учётом целей безопасности
- Декомпозировать систему и отделить критический для целей безопасности код
- Необходимо внедрить в ПО "мониторинг безопасности" и реализовать контроль подсистем дрона
- Доработать функциональный прототип
- Создать автоматизированные тесты, демонстрирующие работу механизмов защиты
## Известные ограничения и вводные условия
1. По условиям организаторов должна использоваться микросервисная архитектура и шина обмена сообщениями для реализации асинхронной работы сервисов.
2. Между собой сервисы ПЛК общаются через message bus, а всё снаружи принимают в виде REST запросов.
3. Физическая надёжность аппаратуры и периметра не учитываются.
4. Графический интерфейс для взаимодействия с пользователем не требуется, достаточно примеров REST запросов.
5. Персонал, обслуживающий систему - благонадёжен
### Цели и преположения безопасности (ЦПБ)
Цели безопасности:
1. Выполняются только аутентичные задания на мониторинг
2. Выполняются только авторизованные системой ОрВД задания
3. Все манёвры совершаются согласно ограничениям в полётном задании (высота, полётная зона)
4. Только авторизованные пользователи имеют доступ к сохранённым данным фото-видео фиксации
5. В случае критического отказа дрон снижается со скоростью не более 1м/с
6. Для запроса авторизации вылета к системе ОрВД используется только аутентичный идентификатор дрона
7. Только авторизованные получатели имеют доступ к оперативной информации

Предположения безопасности:
1. Аутентичная система ОрВД благонадёжна
2. Аутентичные сотрудники благонадёжны и обладают необходимой квалификацией
3. Только авторизованные сотрудники управляют системами
4. Аутентичное полётное задание составлено так, что на всём маршруте дрон может совершить аварийную посадку без причинения неприемлимого ущерба заказчику и третьим лицам

## Архитектура решения

### Описание системы
Изначально система выглядела следующим образом:

<img width="510" alt="image" src="https://github.com/tamoshka/Hakaton/assets/127463024/b847953f-1139-43dd-80b9-edba16027f33">


В ходе решения она была детализирована до следующей:

<img width="468" alt="image" src="https://github.com/tamoshka/Hakaton/assets/127463024/5bdf10cf-a2d6-475e-834a-7000fa737dc5">

[Ссылка на Google Диск](https://drive.google.com/file/d/1asFjLODZ_IIuXuLfq-LM8nW5l2W1fPx0/view?usp=drive_link)

### Компоненты и назначение

| Название | Назначение | Комментарий |
| ----------- | ----------- | ----------- |
| First Veriefer | Иммитатор модуля, производящего проверку на то, что сигнал действительно дошёл до БПЛА | Неоверенный, т.к. сигнал к модулям отправляется в незашифрованном виде, что нарушает пункт 7 ЦБ|
| Manager | Иммитатор системы, являющийся основным передатчиком/перенаправлятором системы между другими модулями | Недоверенный, т.к. нарушает пункт 7 ЦБ |
| ATM | Внешняя система, осуществляющая контроль над передвижением воздушных транспортов, сверяющая маршруты и дающая право/запрет на перемещение | Повышающий доверие, не нарушает приципов ЦБ, канал зашумлён, но данные ему приходящие нарушали принципы ЦБ |
| Входные данные | Иммитатор, перенаправляющий входные данные на другие модули, позволяющий снизить нагрузку с Manager | Недоверенный, т.к. не шифрует входные данные в следствии чего нарушает 7 пункт ЦБ |
| Выходные данные | Иммитатор, отправляющий пакет зашифрованных данных Manager, для дальнейшего отправления получателю | Доверенный, не нарушает приципов ЦБ, данные приходят зашифрованными |
| Хранилище | Иммитатор системы, хранящей фото-видео материалы, записанные фото-видео фиксатором | Доверенный, не нарушает приципов ЦБ, данные приходят зашифрованными |
| Шифратор | Иммитатор системы, шифрующий входящий в него поток данные, что позволяет запретить доступ к ним после прохождения данного этапа | Повышающий доверие, не нарушает приципов ЦБ, шифрует входящие данные и отправляет их в зашифрованном формате |
| Фото-видео фиксатор | Иммитатор системы, производящий фото-видео съёмку в соответствии с целью задания | Недоверенный, т.к. нарушает пункты 4 и 7 ЦБ |
| Система передвижения дрона, перерасчёт скорости и положения | Иммитатор системы, принимающий запрос на передвижение в пространстве и регулирующий его при помощи вычислений между отправленными данными и полученными текущими координатами | Недоверенный, т.к. нарушает пункт 7 ЦБ |
| Система проверки координат | Иммитатор системы, принимающий запрос на сверку координат, после обращающийся к внешним системам и перенаправляющий информацию системе передвижения | Повышающий доверие, поскольку нарушает пунт 7 ЦБ |
| Система Глонасс | Внешняя система, позволяющая отслеживать координаты дрона | Повышающий доверие, не нарушает приципов ЦБ, канал зашумлён, но данные ему приходящие нарушали принципы ЦБ |
| Двигатель | Иммитатор двигателя БПЛА, предаставляющего возможность физического перемещения дрона | Недоверенный, т.к. в случае поломки самостоятельно не принимает решение о снижении скорости, а также может нарушить поведение в воздушном пространстве, чем нарушает ЦБ 3,5 |


### Алгоритм работы решения

Диаграма последовательности:

<img width="795" alt="image" src="https://github.com/tamoshka/Hakaton/assets/127463024/4742aeca-ca92-4099-8fb9-e0376cacbce3">

[Ссылка на Google Диск](https://drive.google.com/file/d/1eJpvQ0umgiPxwbYr_6bKypPpxOMaT3-q/view?usp=drive_link)



